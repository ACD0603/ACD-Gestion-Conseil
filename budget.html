<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audit Budgétaire | ACD Gestion & Conseil</title>
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' rx='25' fill='%230F172A'/%3E%3Ctext x='50%25' y='55%25' dominant-baseline='middle' text-anchor='middle' font-family='Arial, sans-serif' font-weight='900' font-size='45' fill='white'%3EACD%3C/text%3E%3C/svg%3E">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Playfair+Display:italic,wght@700&display=swap');
        
        body { font-family: 'Inter', sans-serif; background-color: #F8FAFC; }
        .font-serif { font-family: 'Playfair Display', serif; }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(226, 232, 240, 0.8);
            border-radius: 2.5rem;
        }

        /* Suppression des flèches sur les inputs number */
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type=number] {
            -moz-appearance: textfield;
        }

        .navbar-scrolled {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(12px);
            padding-top: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .chart-container {
            position: relative;
            margin: auto;
            height: 400px;
            width: 100%;
        }
    </style>
</head>
<body class="text-slate-900 selection:bg-blue-100">

    <!-- Navigation -->
    <nav id="navbar" class="fixed w-full z-50 transition-all duration-300 py-6">
        <div class="container mx-auto px-6 flex justify-between items-center relative">
            <a href="index.html" class="flex items-center space-x-3 group">
                <div class="w-11 h-11 bg-slate-900 rounded-xl flex items-center justify-center text-white font-black shadow-lg transition-all group-hover:rotate-6 group-hover:bg-blue-900">
                    ACD
                </div>
                <div class="hidden sm:flex flex-col">
                    <span class="text-[12px] font-black uppercase tracking-[0.2em] text-slate-900">Gestion & Conseil</span>
                    <span class="text-[9px] font-bold text-blue-800 uppercase tracking-widest flex items-center">
                        <i data-lucide="map-pin" class="w-2.5 h-2.5 mr-1"></i> Lille & France
                    </span>
                </div>
            </a>

            <div class="hidden md:flex items-center space-x-8">
                <a href="#" class="text-sm font-bold text-blue-800">Analyse du budget</a>
                <a href="stratégie.html" class="text-sm font-bold text-slate-600 hover:text-blue-800 transition-colors">Stratégie d'investissement</a>
                <a href="pédagogie.html" class="text-sm font-bold text-slate-600 hover:text-blue-800 transition-colors">Pédagogie</a>
                <a href="contact.html" class="bg-slate-900 text-white px-7 py-3 rounded-full text-[11px] font-black uppercase tracking-widest hover:bg-blue-900 transition-all shadow-xl hover:scale-105 active:scale-95">
                    Me contacter
                </a>
            </div>
        </div>
    </nav>

    <!-- Hero -->
    <section class="pt-48 pb-20 bg-white border-b border-slate-50">
        <div class="container mx-auto px-6 text-center">
            <div class="inline-flex items-center space-x-2 px-3 py-1 bg-blue-50 text-blue-700 rounded-full mb-6">
                <i data-lucide="shield-check" class="w-4 h-4"></i>
                <span class="text-[10px] font-black uppercase tracking-widest">Optimisation de Flux</span>
            </div>
            <h1 class="text-4xl lg:text-7xl font-black text-slate-900 mb-8 leading-[1.1] tracking-tighter">
                Reprenez le <span class="text-blue-800 italic font-serif font-medium">contrôle</span> <br> de votre trésorerie.
            </h1>
            <p class="text-slate-500 max-w-2xl mx-auto text-lg font-medium leading-relaxed">
                Un audit budgétaire n'est pas une restriction, c'est une libération de capital stratégique pour vos projets futurs.
            </p>
        </div>
    </section>

    <!-- Simulation interactive -->
    <section class="py-20 bg-[#F8FAFC]">
        <div class="container mx-auto px-6">
            <div class="grid lg:grid-cols-12 gap-8 items-stretch">
                
                <!-- Colonne Inputs -->
                <div class="lg:col-span-4 space-y-6">
                    <div class="glass-card p-8 lg:p-10 shadow-xl shadow-slate-200/50">
                        <h3 class="font-black text-slate-900 mb-8 flex items-center uppercase tracking-widest text-xs">
                            <span class="w-8 h-[2px] bg-blue-800 mr-3"></span> Simulateur Rapide
                        </h3>
                        
                        <div class="space-y-6">
                            <div>
                                <label class="text-[10px] font-black uppercase text-slate-400 block mb-3 tracking-widest">Votre Nom ou Email</label>
                                <input type="text" id="user-contact" placeholder="Pour vous recontacter" class="w-full bg-slate-100 border-2 border-transparent focus:border-blue-800 focus:bg-white rounded-2xl p-4 outline-none font-bold text-slate-700 transition-all">
                            </div>
                            <div>
                                <label class="text-[10px] font-black uppercase text-slate-400 block mb-3 tracking-widest">Revenus Nets Mensuels</label>
                                <div class="relative">
                                    <input type="number" id="income" value="2500" class="w-full bg-slate-100 border-2 border-transparent focus:border-blue-800 focus:bg-white rounded-2xl p-4 outline-none font-black text-slate-700 transition-all">
                                    <span class="absolute right-4 top-4 text-slate-400 font-bold">€</span>
                                </div>
                            </div>
                            <div>
                                <label class="text-[10px] font-black uppercase text-slate-400 block mb-3 tracking-widest">Charges Fixes</label>
                                <div class="relative">
                                    <input type="number" id="fixed" value="1200" class="w-full bg-slate-100 border-2 border-transparent focus:border-blue-800 focus:bg-white rounded-2xl p-4 outline-none font-black text-slate-700 transition-all">
                                    <span class="absolute right-4 top-4 text-slate-400 font-bold">€</span>
                                </div>
                            </div>
                            <div>
                                <label class="text-[10px] font-black uppercase text-slate-400 block mb-3 tracking-widest">Variables (Loisirs, Courses)</label>
                                <div class="relative">
                                    <input type="number" id="variable" value="800" class="w-full bg-slate-100 border-2 border-transparent focus:border-blue-800 focus:bg-white rounded-2xl p-4 outline-none font-black text-slate-700 transition-all">
                                    <span class="absolute right-4 top-4 text-slate-400 font-bold">€</span>
                                </div>
                            </div>
                        </div>

                        <div class="mt-8 p-6 bg-blue-800 rounded-3xl text-white shadow-lg shadow-blue-900/20">
                            <p class="text-[9px] font-black uppercase tracking-[0.2em] opacity-60 mb-1">Capacité d'épargne mensuelle</p>
                            <div id="savings-amount" class="text-3xl font-black">500 €</div>
                        </div>

                        <!-- Bouton d'action -->
                        <div class="mt-8 pt-8 border-t border-slate-100">
                            <button id="btn-send" onclick="sendToOwner()" class="w-full group bg-slate-900 text-white p-5 rounded-2xl font-black uppercase tracking-widest text-[11px] flex items-center justify-center space-x-3 hover:bg-emerald-600 transition-all shadow-xl active:scale-95">
                                <span>Envoyer mon analyse</span>
                                <i data-lucide="send" class="w-4 h-4"></i>
                            </button>
                            <p id="msg-status" class="text-[9px] text-slate-400 mt-3 text-center font-bold uppercase tracking-tighter italic">L'envoi me permet de préparer notre audit offert.</p>
                        </div>
                    </div>
                </div>

                <!-- Colonne Graphique -->
                <div class="lg:col-span-8">
                    <div class="glass-card p-8 lg:p-10 h-full flex flex-col shadow-xl shadow-slate-200/50">
                        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-10 gap-4">
                            <div>
                                <h3 class="font-black text-slate-900 uppercase tracking-widest text-xs">Visualisation Analytique</h3>
                                <p class="text-slate-400 text-[11px] font-bold mt-1">Répartition actuelle de vos flux financiers</p>
                            </div>
                            <div id="savings-badge" class="px-4 py-2 bg-emerald-50 text-emerald-700 rounded-xl text-[10px] font-black border border-emerald-100 uppercase tracking-widest transition-all">
                                Ratio d'épargne : 20%
                            </div>
                        </div>
                        <div class="flex-grow flex items-center justify-center relative">
                            <div class="chart-container">
                                <canvas id="budgetChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FORMULAIRE CACHÉ POUR L'ENVOI (Formspree) -->
    <form id="hiddenForm" action="https://formspree.io/f/mqedbkov" method="POST" class="hidden">
        <input type="text" name="Contact" id="f-contact">
        <input type="text" name="Revenue_Mensuel" id="f-inc">
        <input type="text" name="Charges_Fixes" id="f-fix">
        <input type="text" name="Variables" id="f-var">
        <input type="text" name="Epargne_Calculee" id="f-sav">
        <input type="text" name="Ratio_Epargne" id="f-rat">
    </form>

    <!-- Footer -->
    <footer class="py-20 bg-slate-900 text-white relative">
        <div class="container mx-auto px-6 relative z-10">
            <div class="grid lg:grid-cols-12 gap-16 mb-20">
                <div class="lg:col-span-5">
                    <div class="flex items-center space-x-4 mb-8">
                        <div class="w-12 h-12 bg-white rounded-xl flex items-center justify-center text-slate-900 font-black">ACD</div>
                        <span class="text-xl font-black uppercase tracking-widest">ACD Gestion & Conseil</span>
                    </div>
                    <p class="text-slate-400 max-w-sm font-medium">Le partenaire de votre croissance financière, alliant rigueur universitaire et vision pédagogique de l'investissement.</p>
                </div>
                
                <div class="lg:col-span-7 grid grid-cols-2 md:grid-cols-3 gap-10">
                    <div>
                        <h4 class="text-[10px] font-black uppercase tracking-[0.2em] text-blue-400 mb-6">Expertise</h4>
                        <ul class="space-y-4 text-sm text-slate-300 font-semibold">
                            <li><a href="#" class="hover:text-white transition-colors">Analyse du budget</a></li>
                            <li><a href="stratégie.html" class="hover:text-white transition-colors">Stratégie d'investissement</a></li>
                            <li><a href="pédagogie.html" class="hover:text-white transition-colors">Pédagogie</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="text-[10px] font-black uppercase tracking-[0.2em] text-blue-400 mb-6">Entreprise</h4>
                        <ul class="space-y-4 text-xs text-slate-400 leading-relaxed font-bold">
                            <li>EI Czurczak-Delcampe</li>
                            <li>SIREN : 938 126 956</li>
                            <li>APE : 70.22Z</li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="text-[10px] font-black uppercase tracking-[0.2em] text-blue-400 mb-6">Social</h4>
                        <div class="flex space-x-4">
                            <a href="#" class="w-10 h-10 rounded-full border border-white/10 flex items-center justify-center hover:bg-white hover:text-slate-900 transition-all"><i data-lucide="linkedin" class="w-4 h-4"></i></a>
                            <a href="#" class="w-10 h-10 rounded-full border border-white/10 flex items-center justify-center hover:bg-white hover:text-slate-900 transition-all"><i data-lucide="instagram" class="w-4 h-4"></i></a>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="pt-10 border-t border-white/10 flex flex-col md:flex-row justify-between items-center gap-6">
                <div class="text-[10px] font-black uppercase tracking-[0.3em] text-slate-500">
                    © 2026 ACD GESTION & CONSEIL — LILLE, FRANCE
                </div>
                <div class="text-[9px] text-slate-600 font-bold uppercase tracking-widest">
                    Design by ACD • <a href="mentions-legales.html" class="hover:underline">Mentions Légales</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        lucide.createIcons();

        // Gestion du scroll navbar
        window.addEventListener('scroll', () => {
            const nav = document.getElementById('navbar');
            if (window.scrollY > 50) nav.classList.add('navbar-scrolled');
            else nav.classList.remove('navbar-scrolled');
        });

        const ctx = document.getElementById('budgetChart').getContext('2d');
        let budgetChart;

        // Plugin pour afficher du texte au centre du donut
        const centerTextPlugin = {
            id: 'centerText',
            beforeDraw(chart) {
                const { ctx, chartArea: { top, width, height } } = chart;
                ctx.save();
                const income = chart.config._incomeValue || 0;
                
                // Titre petit
                ctx.font = 'bold 10px Inter';
                ctx.fillStyle = '#94A3B8';
                ctx.textAlign = 'center';
                ctx.fillText('FLUX TOTAL', width / 2, top + (height / 2) - 15);
                
                // Montant grand
                ctx.font = '900 24px Inter';
                ctx.fillStyle = '#0F172A';
                ctx.fillText(`${income.toLocaleString('fr-FR')}€`, width / 2, top + (height / 2) + 15);
                ctx.restore();
            }
        };

        function updateChart() {
            const income = parseFloat(document.getElementById('income').value) || 0;
            const fixed = parseFloat(document.getElementById('fixed').value) || 0;
            const variable = parseFloat(document.getElementById('variable').value) || 0;
            
            const totalExp = fixed + variable;
            const savings = Math.max(0, income - totalExp);
            const ratio = income > 0 ? Math.round((savings / income) * 100) : 0;

            document.getElementById('savings-amount').innerText = `${savings.toLocaleString('fr-FR')} €`;
            
            const badge = document.getElementById('savings-badge');
            badge.innerText = `Ratio d'épargne : ${ratio}%`;
            
            if (ratio >= 20) {
                badge.className = "px-4 py-2 bg-emerald-50 text-emerald-700 rounded-xl text-[10px] font-black border border-emerald-100 uppercase tracking-widest";
            } else if (ratio >= 10) {
                badge.className = "px-4 py-2 bg-amber-50 text-amber-700 rounded-xl text-[10px] font-black border border-amber-100 uppercase tracking-widest";
            } else {
                badge.className = "px-4 py-2 bg-rose-50 text-rose-700 rounded-xl text-[10px] font-black border border-rose-100 uppercase tracking-widest";
            }

            const dataValues = [fixed, variable, savings];

            if (budgetChart) {
                budgetChart.config._incomeValue = income;
                budgetChart.data.datasets[0].data = dataValues;
                budgetChart.update();
            } else {
                budgetChart = new Chart(ctx, {
                    type: 'doughnut',
                    plugins: [centerTextPlugin],
                    data: {
                        labels: ['Charges Fixes', 'Variables & Loisirs', 'Épargne'],
                        datasets: [{
                            data: dataValues,
                            backgroundColor: [
                                '#1E3A8A', // Bleu nuit (Fixes)
                                '#64748B', // Ardoise (Variables)
                                '#10B981'  // Émeraude (Épargne)
                            ],
                            borderWidth: 8,
                            borderColor: '#ffffff',
                            hoverOffset: 15,
                            borderRadius: 10,
                            spacing: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        cutout: '75%',
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    padding: 30,
                                    usePointStyle: true,
                                    pointStyle: 'circle',
                                    font: { size: 11, weight: '700', family: 'Inter' },
                                    color: '#64748B'
                                }
                            },
                            tooltip: {
                                backgroundColor: '#0F172A',
                                padding: 15,
                                titleFont: { size: 12, weight: 'bold' },
                                bodyFont: { size: 14 },
                                callbacks: {
                                    label: function(context) {
                                        const val = context.raw;
                                        const pct = income > 0 ? Math.round((val / income) * 100) : 0;
                                        return ` ${val.toLocaleString('fr-FR')} € (${pct}%)`;
                                    }
                                }
                            }
                        },
                        animation: {
                            animateScale: true,
                            animateRotate: true
                        }
                    }
                });
                budgetChart.config._incomeValue = income;
                budgetChart.update();
            }
        }

        async function sendToOwner() {
            const btn = document.getElementById('btn-send');
            const contactValue = document.getElementById('user-contact').value.trim();
            const msgStatus = document.getElementById('msg-status');

            if (!contactValue) {
                msgStatus.innerText = "⚠️ Veuillez renseigner un nom ou email.";
                msgStatus.className = "text-[10px] text-rose-600 mt-3 text-center font-black uppercase tracking-widest";
                return;
            }

            // Remplissage des champs cachés
            document.getElementById('f-contact').value = contactValue;
            document.getElementById('f-inc').value = document.getElementById('income').value + " €";
            document.getElementById('f-fix').value = document.getElementById('fixed').value + " €";
            document.getElementById('f-var').value = document.getElementById('variable').value + " €";
            document.getElementById('f-sav').value = document.getElementById('savings-amount').innerText;
            document.getElementById('f-rat').value = document.getElementById('savings-badge').innerText;

            btn.disabled = true;
            btn.innerHTML = `<span>Envoi en cours...</span>`;

            const form = document.getElementById('hiddenForm');
            const formData = new FormData(form);

            try {
                const response = await fetch(form.action, {
                    method: 'POST',
                    body: formData,
                    headers: { 'Accept': 'application/json' }
                });

                if (response.ok) {
                    btn.innerHTML = `<span>Envoyé avec succès !</span> <i data-lucide="check-circle" class="w-4 h-4 ml-2"></i>`;
                    btn.className = btn.className.replace('bg-slate-900', 'bg-emerald-600');
                    msgStatus.innerText = "Merci ! Je reviens vers vous rapidement avec votre audit personnalisé.";
                    msgStatus.className = "text-[10px] text-emerald-600 mt-3 text-center font-black uppercase tracking-widest";
                    lucide.createIcons();
                } else {
                    throw new Error();
                }
            } catch (err) {
                msgStatus.innerText = "❌ Une erreur est survenue. Veuillez réessayer.";
                msgStatus.className = "text-[10px] text-rose-600 mt-3 text-center font-black uppercase tracking-widest";
                btn.disabled = false;
                btn.innerHTML = `<span>Réessayer l'envoi</span>`;
            }
        }

        document.querySelectorAll('input').forEach(input => {
            input.addEventListener('input', () => {
                if (input.type === 'number' && input.value < 0) input.value = 0;
                updateChart();
            });
        });

        window.addEventListener('load', updateChart);
    </script>
</body>
</html>
